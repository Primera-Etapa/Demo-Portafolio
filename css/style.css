/* ===== Reset & base ===== */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:#1e293b;
  background:
    radial-gradient(1200px 800px at 80% -10%, #413A2E 0%, transparent 55%),
    radial-gradient(900px 600px at -10% 110%, #413A2E 0%, transparent 55%),
    #a48d6471;
  overflow-y: clip; /* sin mini-scroll si no hay más contenido */
}

/* ===== Tokens ===== */
:root{
  --panel:#fff;
  --ink:#1e293b;
  --muted:#6b7280;
  --primary:#10b981;
  --shadow:0 10px 30px rgba(15,23,42,.12);
  --radius:20px;
  --space:clamp(16px,3vw,24px);
  --h-closed:86px;
  --h-open:clamp(420px,42vh,460px);
}

/* ===== Layout ===== */
.app{ max-width:1200px; margin:auto; min-height:100vh; padding:clamp(14px,2vw,22px) }
.shell{ display:grid; grid-template-columns:80px 420px 1fr; gap:var(--space) }

/* ===== Sidebar / Menu ===== */
.menu{ position:sticky; top:20px; height:calc(100vh - 40px); display:flex; flex-direction:column }
.menu .btn{
  width:100%; height:55px; display:grid; place-items:center; line-height:0;
  border-radius:16px; background:var(--panel); box-shadow:var(--shadow);
  cursor:pointer; border:2px solid transparent; transition:.25s;
}
.menu .btn:hover{ transform:translateY(-3px) }
.menu .btn.is-active{ border-color:var(--primary) }
.menu .btn svg{ width:24px; height:24px }
.menu .btn i{ font-size:24px }
.menu .btn[disabled]{ opacity:.4; cursor:not-allowed; border-color:transparent !important }

/* Submenú (solo JS con clase .show) */
.menu-group{ position:relative }
.btn.has-sub{ position:relative }
.submenu{
  position:absolute; left:0; top:63px; width:100%;
  display:flex; flex-direction:column;
  opacity:0; transform:translateY(-8px); pointer-events:none;
  transition:opacity .22s ease, transform .22s ease; z-index:30;
}
.submenu.show{ opacity:1; transform:translateY(0); pointer-events:auto }
.submenu .btn{ height:52px }

/* ===== Card izquierda ===== */
.card{
  background:var(--panel); box-shadow:var(--shadow);
  padding:28px; display:flex; flex-direction:column; gap:18px;
  align-items:center; justify-content:center; text-align:center;
}

.card .photo{ position:relative; height:auto; max-height:480px; overflow:hidden }
.card .photo img.foto-perfil{
  width:100%; height:100%; max-height:350px; object-fit:cover; display:block;
  border-radius:5%; box-shadow:0 0 15px rgba(0,0,0,.15); transition:transform .4s ease
}

.name{ font-size:clamp(24px,4vw,32px); font-weight:800; letter-spacing:-.02em; margin:0 }
.role{ color:var(--muted); font-weight:500; margin:0 }

/* Contactos */
.contactos{ display:flex; gap:10px }
.contactos a{
  display:grid; place-items:center; width:42px; height:42px; border-radius:12px;
  background:#f3f4f6; color:#111827; text-decoration:none; font-size:22px; transition:.2s;
}
.contactos a:hover{ transform:translateY(-3px) }

/* ===== Botones ===== */
.btn-ghost,.btn-solid{
  height:48px; border-radius:12px; font-weight:600; cursor:pointer; border:none; transition:all .3s ease
}
.btn-solid{
  width:100%; color:#fff;
  background:linear-gradient(135deg, var(--primary), #0d9488);
  box-shadow:0 6px 15px rgba(16,185,129,.4); letter-spacing:.4px
}
.btn-solid:hover{ background:linear-gradient(135deg,#0f766e,#10b981); transform:translateY(-3px); box-shadow:0 8px 20px rgba(16,185,129,.5) }
.btn-solid:active{ transform:translateY(0); box-shadow:0 3px 10px rgba(16,185,129,.3) }

/* ===== Panel derecha ===== */
.panel{
  background:var(--panel); box-shadow:var(--shadow);
  padding:30px 16px; display:flex; flex-direction:column; gap:22px; min-height:560px;
  transform:scale(.95) translateX(-15px); z-index:1; transition:all .3s ease;
}
.panel[data-animate]{ opacity:0; transform:translateY(10px) }
.panel[data-animate].in{ opacity:1; transform:translateY(0) scale(.95) translateX(-15px) }
.panel:hover{ transform:scale(1) translateX(0); z-index:3 }

/* Panel derecho “debajo” de la card izquierda */
.panel.connect{ position:relative; z-index:1; transform:scale(.985) translateX(-18px); box-shadow:0 10px 28px rgba(15,23,42,.10) }
.panel.connect::before{
  content:""; position:absolute; top:0; left:-42px; width:56px; height:100%;
  background:var(--panel); box-shadow:6px 0 16px rgba(15,23,42,.06) inset
}

.panel header{ display:flex; align-items:center; gap:10px }
.title{ font-size:clamp(20px,3.2vw,28px); font-weight:800 }
.tabs{ display:flex; gap:10px; margin-left:auto }
.chip{ padding:8px 12px; border-radius:999px; background:#f3f4f6; color:#374151; font-weight:600; font-size:14px; cursor:pointer }
.chip.is-active{ background:rgba(255,255,255,.12); color:#0f7957 }

/* Texto intro */
.cols{ gap:var(--space) }
.col p{ font-size:16px; color:#111827; margin:0 0 10px; line-height:1.8 }

/* ===== Acordeón ===== */
.accordion{ display:flex; flex-direction:column; gap:10px; width:100% }
.accordion-item{
  position:relative; height:var(--h-closed); border-radius:16px 16px 1px 1px;
  overflow:hidden; box-shadow:0 4px 14px rgba(0,0,0,.12); cursor:pointer;
  transition:height .55s ease, box-shadow .35s ease;
}
.accordion-item.open{ height:var(--h-open); box-shadow:0 8px 24px rgba(0,0,0,.18) }

.accordion-overlay{
  position:absolute; inset:0; display:flex; flex-direction:column; justify-content:flex-end;
  padding:1.2rem 1.5rem; color:#fff;
  background:linear-gradient(to top, rgba(0,0,0,.6) 0%, rgba(0,0,0,.25) 60%, transparent 90%);
  transition:opacity .35s ease; opacity:0; pointer-events:none;
}
.accordion-item.open .accordion-overlay{ opacity:1; pointer-events:auto }

/* Estado cerrado */
.accordion-item:not(.open)::before{ content:""; position:absolute; inset:0; background:rgba(0,0,0,.82) }
.accordion-item:not(.open) .accordion-overlay{
  opacity:1; background:none; justify-content:center; align-items:flex-start; text-align:left; padding:1rem 1.5rem
}
.accordion-item:not(.open) .accordion-overlay .toggle{ display:none }
.accordion-item:not(.open) .accordion-overlay h4{ font-size:1.1rem; font-weight:700; margin:0 0 .2rem; color:#fff; text-shadow:0 2px 6px rgba(0,0,0,.4) }
.accordion-item:not(.open) .accordion-overlay p{ font-size:14px; margin:0; color:#f0f0f0; text-shadow:0 1px 4px rgba(0,0,0,.5) }

/* Abierto */
.accordion-overlay h4{ margin:0 0 .25rem; font-weight:800; font-size:clamp(1.15rem,1.3vw,1.35rem) }
.accordion-overlay p{ margin:0; padding-left:6px; font-size:clamp(.95rem,1.05vw,1.05rem); line-height:1.4; color:#f2f2f2 }

/* Botón */
.accordion-overlay .toggle{
  align-self:flex-start; margin-top:.7rem; border:0; border-radius:999px; padding:.5rem .9rem;
  background:#fff; color:#111; font-weight:700; font-size:.9rem; box-shadow:0 2px 10px rgba(0,0,0,.12);
  cursor:pointer; transition:background .3s ease
}
.accordion-overlay .toggle:hover{ background:#f3f4f6 }
[hidden]{ display:none !important }

/* Tech logos (íconos e imágenes) */
.tech-logos{ display:flex; gap:1.2rem; align-items:center; flex-wrap:wrap }
.tech-logos i,.tech-logos img{
  font-size:2rem; color:#aaa; opacity:.95; transition:transform .25s ease, color .25s ease; cursor:default
}
.tech-logos i:hover,.tech-logos img:hover{ transform:scale(1.1); color:#fff }

/* Panel derecho con header fijo y body scrolleable */
#panel-resume.panel{ display:flex; flex-direction:column; height:calc(100vh - 2 * var(--space)); min-height:560px }
#panel-resume > header{ flex:0 0 auto; margin-bottom:10px }
#panel-resume .panel-body{
  flex:1 1 auto; min-height:0; overflow-y:auto; padding-right:8px; scroll-behavior:smooth
}
#panel-resume .panel-body::-webkit-scrollbar{ width:8px }
#panel-resume .panel-body::-webkit-scrollbar-track{ background:#eef2f7; border-radius:8px }
#panel-resume .panel-body::-webkit-scrollbar-thumb{ background:#c6c5c5; border-radius:8px }
#panel-resume .panel-body::-webkit-scrollbar-thumb:hover{ background:#87be92 }

/* ===== Responsive ===== */
@media (max-width:1100px){ .shell{ grid-template-columns:70px 1fr } }
@media (max-width:860px){ .shell{ grid-template-columns:70px 1fr } }
@media (max-width:640px){
  .shell{ grid-template-columns:1fr }
  .menu{ flex-direction:row; position:static; height:auto }
  .menu .btn{ height:52px }
}
